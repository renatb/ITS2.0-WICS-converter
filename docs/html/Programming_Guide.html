<html><head><title>Programming Guide - Programming Guide for the WICS Converters</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="cpanStyle" type="text/css" href="cpanStyle.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="_grygrnw.css" media="all" >

<script type="text/javascript" src="_podly.js"></script>

</head>
<body class='pod'>
<!--Generated by Pod::Simple::HTML. Do not modify.-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Overview'>Overview</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Internationalization_Tag_Set'>Internationalization Tag Set</a>
      <li class='indexItem indexItem3'><a href='#WICS'>WICS</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Preserving_ITS_Information_During_Conversion'>Preserving ITS Information During Conversion</a>
    <li class='indexItem indexItem2'><a href='#Working_with_the_DOM'>Working with the DOM</a>
    <li class='indexItem indexItem2'><a href='#Language_and_Tools'>Language and Tools</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Dependencies'>Dependencies</a>
      <li class='indexItem indexItem3'><a href='#Working_with_the_Code'>Working with the Code</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#Running_the_Applications'>Running the Applications</a>
        <li class='indexItem indexItem4'><a href='#Running_Tests'>Running Tests</a>
        <li class='indexItem indexItem4'><a href='#Installing'>Installing</a>
        <li class='indexItem indexItem4'><a href='#Viewing_and_Generating_Documentation'>Viewing and Generating Documentation</a>
        <li class='indexItem indexItem4'><a href='#Building_a_Release'>Building a Release</a>
        <li class='indexItem indexItem4'><a href='#Building_the_Executables'>Building the Executables</a>
        <li class='indexItem indexItem4'><a href='#WICS_GUI'>WICS GUI</a>
        <li class='indexItem indexItem4'><a href='#WICS_CLI'>WICS CLI</a>
      </ul>
    </ul>
    <li class='indexItem indexItem2'><a href='#Known_Issues_and_Limitations'>Known Issues and Limitations</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#ITS'>ITS</a>
      <li class='indexItem indexItem3'><a href='#ITS-XML2HTML'>ITS-XML2HTML</a>
      <li class='indexItem indexItem3'><a href='#ITS-XLIFF2HTML'>ITS-XLIFF2HTML</a>
      <li class='indexItem indexItem3'><a href='#ITS-XML2XLIFF'>ITS-XML2XLIFF</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Third_Party_Licenses'>Third Party Licenses</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Programming Guide - Programming Guide for the WICS Converters</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Overview"
>Overview</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Internationalization_Tag_Set"
>Internationalization Tag Set</a></h3>

<p>The Internationalization Tag Set,
or ITS,
is a standard for adding internalization-related information to XML,
XLIFF,
and HTML5 documents.
For example,
using this tag set you can mark parts of a document as untranslatable,
as needing special treatment for a given locale,
or as being related to a given media resource.</p>

<p>ITS provides for two methods of annotating documents.
The first is through local attributes.
The second is through global rules,
which use a query language (XPath for now) to select nodes to be annotated.</p>

<p>In XML,
ITS information is added to the document via markup in the <code>http://www.w3.org/2005/11/its</code> namespace.</p>

<p>In HTML5,
most ITS attributes begin with <code>its-</code>,
but the ITS standard also strives to re-use attributes already available in HTML5,
such as <code>translate</code>.
Elements in the ITS namespace can be used,
if contained in a <code>&#60;script type=&#34;application/its+xml&#34;&#62;</code> element.
ITS-decorated HTML5 files can be validated with an online tool <a href="http://validator.w3.org/nu/" class="podlinkurl"
>here</a>.</p>

<p>XLIFF documents can use XML ITS,
but can additionally use markup from the <code>http://www.w3.org/ns/its-xliff/</code> namespace,
which was created to allow all ITS information to be localizable.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="WICS"
>WICS</a></h3>

<p>WICS stands for &#34;Work In Context System&#34;.
It is a project which seeks to make ITS markup more useful by displaying it in a more user-friendly manner within a web browser.
It has two components:</p>

<ul>
<li>A converter for generating HTML5 or XLIFF from original documents (this project)</li>

<li>JavaScript to display ITS data in Web browsers</li>
</ul>

<p>This document describes the converters.
They accomplish four file conversion tasks:</p>

<ol>
<li>Convert ITS-decorated XML into HTML5 for displaying the contents and ITS metadata</li>

<li>Reduce ITS-decorated HTML5 documents to be usable as a single file</li>

<li>Convert ITS-decorated XLIFF into HTML5 for displaying the contents of <code>&#60;source&#62;</code> and and <code>&#60;target&#62;</code> elements and ITS metadata</li>

<li>Extract text segments and their associated ITS metadata and create an XLIFF file with equivalent ITS decorating the translation units.
This application is of limited functionality and is demonstrated through only one sample conversion.</li>
</ol>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Preserving_ITS_Information_During_Conversion"
>Preserving ITS Information During Conversion</a></h2>

<p>Preserving ITS information in a document while converting it to a different format is rather tricky.
The four-step process,
employed in ITS-XML2HTML and ITS-XLIFF2HTML,
is as follows:</p>

<ol>
<li>Index all global rules and their matched nodes.</li>

<li>Traverse and edit the document,
converting local ITS markup for each element.
Allowed types of editing are limited by the indexing method; here,
element deletion is disallowed.</li>

<li>Paste new nodes where needed to guarantee that all original ITS information is still found in the document.</li>

<li>Rewrite global rules to apply the same information to the same text as in the original document.</li>
</ol>

<p>This method has strengths and weaknesses.
The strength is that the structure of the original document is preserved fairly well,
and the output is readable.</p>

<p>The weakness is that there are a few cases where ITS information is applied to nodes that it should not be.
This occurs when an ITS category passes information to children via inheritance,
and also does not have a default value.
In the course of conversion,
non-element nodes (like attributes) are pasted as elements so as to be both visible and legal HTML,
and new attributes are also added (<code>title</code> and <code>id</code>).
This unfortunately causes them to inherit ITS information that does not belong to them.
Global rules are created to reset ITS information to defaults where possible (<code>translate</code>,
<code>direction</code>,
and <code>localeFilter</code>).
Where there are no defaults (<code>langInfo</code>,
<code>domain</code> and <code>provenance</code>),
the newly pasted elements may be assigned incorrect ITS information.
This weakness is listed in the <code>CAVEAT</code> documentation section of the relevant modules.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Working_with_the_DOM"
>Working with the DOM</a></h2>

<p>Each of the tasks requires DOM manipulation,
some XML and some HTML5.
All such manipulation is done through the <a href="./ITS/DOM.html" class="podlinkpod"
>ITS::DOM</a> package and its sub packages (<a href="./ITS/DOM/Node.html" class="podlinkpod"
>Node</a>,
<a href="./ITS/DOM/Element.html" class="podlinkpod"
>Element</a>,
and <a href="./ITS/DOM/Value.html" class="podlinkpod"
>Value</a>).
Obviously there are some drawbacks to rolling our own DOM implementation.
The API must necessarily expand to allow all of the operations employed in the converters,
and it is always possible that we will find a needed operation missing.
Creating a comprehrensive DOM API is surely too much work since the API is meant for internal use only.</p>

<p>The reason for the creation of an internal DOM processing package was to allow future maintainers to switch to new underlying XML engines more easily.
The first XML engine used was <a href="./XML/Twig.html" class="podlinkpod"
>XML::Twig</a>,
which turned out to be inadequate.
During the transition from XML::Twig to <a href="./XML/LibXML.html" class="podlinkpod"
>XML::LibXML</a>,
I created a wrapper around all of the DOM manipulation performed by the converters so that I would only have to change designated areas of the code.
Although XML::LibXML is very advanced,
and the XML DOM interface is conveniently unified with the HTML5 DOM interface via <a href="./HTML/HTML5/Parser.html" class="podlinkpod"
>HTML::HTML5::Parser</a>,
it is not perfect.
Its main problems are 1) its automatic registering of namespaces during XPath querying (see the TODO test in <code>t/ITS/02-node.t</code>) and 2) its inability to strip namespaces from nodes.
The latter was more problematic than the former,
as it required me to write special methods for replacing indexed nodes with new,
namespace-less ones.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Language_and_Tools"
>Language and Tools</a></h2>

<p>The WICS converters are written in Perl.
The following packages are included in this distribution:</p>

<ul>
<li><code>ITS</code>- an ITS document processor.
It extracts ITS rules from XML and HTML documents,
and resolves their matches.
It also contains a DOM implementation which wraps LibXML and provides extra functionality required by the converter apps.
It does not yet have any implementation of inheritance or of querying individual elements for ITS information.</li>

<li><code>ITS::WICS::XML2HTML</code>- accomplishes file conversion task 1.</li>

<li><code>ITS::WICS::Reduce</code>- accomplishes file conversion task 2.</li>

<li><code>ITS::WICS::XLIFF2HTML</code>- accomplishes file conversion task 3.</li>

<li><code>ITS::WICS::XML2XLIFF</code>- accomplishes file conversion task 4.</li>

<li><code>ITS::WICS</code>- Bundles the functionality of all of the converters into one package.</li>
</ul>

<p>Additionally,
WICS.pl and WICS-GUI.pl (in the <code>bin</code> directory) are applications which give access to the functionality of all of the converters.
The first is a command-line interface and the second is a graphical interface.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Dependencies"
>Dependencies</a></h3>

<p>Perl 5.14 or higher (released May 2011) is required.
The software has only been tested on Windows 7 with Strawberry Perl thus far; I expect it to work on other platforms,
but don&#39;t expect the test suite to pass just yet,
as EOL differences tend to cause failures during porting.</p>

<p>There are also plenty of CPAN dependencies (CPAN is an archive that contains open source Perl packages.).
The easy way to install all of the dependencies is to use <a href="https://metacpan.org/module/cpanm" class="podlinkurl"
><code>cpanm</code></a> and the latest release archive (the files inside the <code>releases</code> directory).
After installing <code>cpanm</code> (using the command <code>cpan App::cpanminus</code>),
pass the path to the latest release to <code>cpanm</code> like so: <code>cpanm --installdeps releases/ITS-WICS-0.0x</code>.</p>

<p><a href="http://dzil.org/" class="podlinkurl"
>Dist::Zilla</a> and many plugins are required for the release cycle.
After installing cpanm and then Dist::Zilla (via <code>cpanm Dist::Zilla</code>),
you can install all of the release dependencies using <code>dzil authordeps | cpanm</code>.</p>

<p>To run <code>scripts/GenerateDocs.pl</code> (see <a href="#Viewing_and_Generating_Documentation" class="podlinkpod"
>&#34;Viewing and Generating Documentation&#34;</a>),
you must have <a href="https://metacpan.org/module/Pod::Simple::HTMLBatch" class="podlinkurl"
>Pod::Simple::HTMLBatch</a> installed,
along with several of the dependencies required to run <code>dzil</code>.</p>

<p>Finally,
to create the standalone executables,
you need to install <a href="https://metacpan.org/module/PAR::Packer" class="podlinkurl"
>PAR::Packer</a> (via <code>cpanm PAR::Packer</code>).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Working_with_the_Code"
>Working with the Code</a></h3>

<p>The project contains the following:</p>

<dl>
<dt><a name="releases"
><code>releases</code></a></dt>

<dd>
<p>Contains release archives for installing the application code on your computer or releasing to CPAN.
Each archive is marked with a version number (<code>ITS-WICS-0.01</code>,
etc.).</p>

<dt><a name="docs"
><code>docs</code></a></dt>

<dd>
<p>Contains overall WICS documentation and generated HTML documentation for the application code.</p>

<dt><a name="scripts"
><code>scripts</code></a></dt>

<dd>
<p>Contains scripts that aren&#39;t directly part of the WICS applications; these perform related functions like generating documentation and sample files.</p>

<dt><a name="lib"
><code>lib</code></a></dt>

<dd>
<p>contains code for performing conversions and processing ITS.</p>

<dt><a name="bin"
><code>bin</code></a></dt>

<dd>
<p>Contains two applications for performing the WICS tasks: a command line interface (<code>WICS.pl</code>) and a graphical interface (<code>WICS-GUI.pl</code>).</p>

<dt><a name="t"
><code>t</code></a></dt>

<dd>
<p>Contains the unit tests for verifying the functionality of the converters.</p>

<dt><a name="TODO.txt"
><code>TODO.txt</code></a></dt>

<dd>
<p>Contains some TODO notes for future maintenance.</p>

<dt><a name="README.mkdn"
><code>README.mkdn</code></a></dt>

<dd>
<p>A generated file that describes the functionality of <code>ITS::WICS</code>.</p>

<dt><a name="dist.ini"
><code>dist.ini</code></a></dt>

<dd>
<p>A settings file for Dist::Zilla.
More on this later.</p>
</dd>
</dl>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Running_the_Applications"
>Running the Applications</a></h4>

<p>You can run the CLI or GUI interface for the WICS tasks using the following commands (assuming you have <code>cd</code>&#39;d into the project directory):</p>

<dl>
<dt><a name="perl_-Ilib_bin/WICS.pl"
><code>perl -Ilib bin/WICS.pl</code></a></dt>

<dd>
<dt><a name="perl_-Ilib_bin/WICS-GUI.pl"
><code>perl -Ilib bin/WICS-GUI.pl</code></a></dt>
</dl>

<p>Each application is meant to be self-documenting; <code>WICS.pl</code> prints a USAGE statement if its input parameters are incorrect,
and <code>WICS-GUI.pl</code> has labels on all of its buttons.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Running_Tests"
>Running Tests</a></h4>

<p>When you run the test scripts,
you must add the <code>lib</code> folder to Perl&#39;s include path.
There are two ways to run the tests:</p>

<ol>
<li>One at a time: <code>perl -Ilib t/name-of-test.t</code>.
The <code>-I</code> option adds the <code>lib</code> folder to the include path.</li>

<li>All at once using the <code>prove</code> utility included with Perl: <code>prove -lrv</code> or if you&#39;re less patient,
<code>prove -lr -j4</code>.
The options do the following:
<dl>
<dt><a name="-l"
><code>-l</code></a></dt>

<dd>
<p>(required) adds the <code>lib</code> folder to the include path</p>

<dt><a name="-r"
><code>-r</code></a></dt>

<dd>
<p>(required) searches for <code>*.t</code> (test) files recursively in the <code>t</code> directory</p>

<dt><a name="-v"
><code>-v</code></a></dt>

<dd>
<p>(optional) uses verbose mode,
which prints the name and result of every single test</p>

<dt><a name="-j4"
><code>-j4</code></a></dt>

<dd>
<p>runs 4 tests at a time in different threads.
You can increase or decrease this number to suit the number of processors in your CPU.</p>
</dd>
</dl>
</li>
</ol>

<p>Some test files are only run if the location of the ITS 2.0 test suite is made available to them via the <code>ITS_20_TESTSUITE_PATH</code> environment variable.
You can do this in Windows by typing <code>set ITS_20_TESTSUITE_PATH=C:\path\to\test\suite</code> at the command line (this variable will be lost when you close the CMD window).
The path should be the location of a copy of the ITS 2.0 test suite,
retrieved from its <a href="https://github.com/w3c/its-2.0-testsuite" class="podlinkurl"
>GitHub repository</a>.
An essential directory,
<code>inputdata</code>,
is in a Git submodule,
so when you clone the repository onto your computer make sure to use <code>git clone --recursive</code>.
Alternatively,
you can download it separately from <a href="https://github.com/w3c/its-2.0-testsuite-inputdata" class="podlinkurl"
>here</a> and put it in the <code>its2.0</code> directory.</p>

<p>These tests run the converters on files in the test suite,
and then send them to <a href="./validator.w3c.html#nu" class="podlinkpod"
>&#34;nu&#34; in validator.w3c</a> for a validity check.
Because these tests are rather long and require an internet connection,
I recommend that you run them only once in a while during complete testing,
while using the rest of the tests often during normal development.
Also,
some of these tests might fail.
See the <a href="#Known_Issues_and_Limitations" class="podlinkpod"
>known issues</a> section on <code>ITS-XLIFF2HTML</code>.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Installing"
>Installing</a></h4>

<p>Installing the distribution is simple.
Look inside of the <code>releases</code> directory for the file with the highest version number.
Then pass the name of this file to <code>cpan</code> or <code>cpanm</code>; for example,
if the highest-numbered release is <code>ITS-WICS-0.0x</code>,
then you would run the command <code>cpanm releases/ITS-WICS-0.0x</code>.
This will check that all of the tests pass before installing.</p>

<p>If you would rather install the latest development version as contained in the lib directory,
then use the command <code>dzil install</code> (see also <a href="#Building_a_Release" class="podlinkpod"
>&#34;Building a Release&#34;</a>).</p>

<p>Once you&#39;ve installed the distribution,
you can use the WICS CLI and the WICS GUI from the command line using <code>WICS</code> and <code>WICS-GUI</code>,
respectively (add <code>.pl</code> to those if not on Windows).
You can also use any of the included modules in your own Perl scripts,
as well as view their documentation from the command line via <code>perldoc</code>.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Viewing_and_Generating_Documentation"
>Viewing and Generating Documentation</a></h4>

<p>The latest documentation on each of the modules is located in their files in POD format,
and browsable version of all project documentation is contained in the <code>docs/html</code> directory.</p>

<p>Once you <a href="./Installing.html" class="podlinkpod"
>install</a> the application,
you can view the documentation in the command line with <code>perldoc ITS::WICS::XML2HTML</code> (or substitute the name of the desired module).</p>

<p>The documentation contained in the <code>docs/html</code> directory is generated from the POD embedded in the application source code and in a few documents in the <code>docs</code> directory.
To regenerate it,
simply run <code>GenerateDocs.pl</code>,
located in the <code>scripts</code> directory.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Building_a_Release"
>Building a Release</a></h4>

<p>The code is usable as it exists,
but it doesn&#39;t have some essential distribution information,
like a version number.
We use Dist::Zilla (see the <a href="./Dependencies.html" class="podlinkpod"
>Dependencies</a> section) to build the release of a distribution.
Besides adding a version number,
it also creates authoring tests (spelling,
copyright,
documentation coverage,
etc.) and metadata and bundles them into the distribution.
Here are some useful commands:</p>

<dl>
<dt><a name="dzil_build"
><code>dzil build</code></a></dt>

<dd>
<p>builds the distribution in a subdirectory</p>

<dt><a name="dzil_install"
><code>dzil install</code></a></dt>

<dd>
<p>installs the current codebase on your computer</p>

<dt><a name="dzil_test_--release"
><code>dzil test --release</code></a></dt>

<dd>
<p>runs all of the project unit tests and all of the generated author tests</p>

<dt><a name="dzil_release"
><code>dzil release</code></a></dt>

<dd>
<p>creates a new release of the project.
With the current settings,
this runs all of the unit- and author-tests,
builds the release,
saves it in the <code>releases</code> directory,
regenerates the <code>README</code> file,
and commits and pushes changes in Git.</p>
</dd>
</dl>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Building_the_Executables"
>Building the Executables</a></h4>

<p>The ITS-WICS distribution comes with two scripts that can be converted into standalone executables.
These are <code>bin/WICS-GUI.pl</code> and <code>bin/WICS.pl</code>.
Each file contains specific directions on creating the executables,
which is also available via <code>perldoc WICS(-GUI).pl</code> if you installed the distribution (see <a href="#Viewing_and_Generating_Documentation" class="podlinkpod"
>&#34;Viewing and Generating Documentation&#34;</a>).
For convenience,
however,
we include the directions again below.</p>

<p>First,
a couple things to keep in mind.
Using 64-bit Perl will generate a 64-bit binary,
which is not usable on 32-bit machines.
If you normally use 64-bit Perl,
you may want to <a href="http://strawberryperl.com/releases.html" class="podlinkurl"
>download</a> the 32-bit portable version of Strawberry Perl,
which requires no installation but will allow you to create a 32-bit binary.
Also,
the resulting executables have a certain startup cost.
The startup time is longest the first time you use them,
as many files are unpacked and stored for later use.
After that the startup time is much shorter.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="WICS_GUI"
>WICS GUI</a></h4>

<p>Besides installing all of the <a href="#Dependencies" class="podlinkpod"
>dependencies</a> required to run the application,
to create the standalone executable of <code>WICS-GUI.pl</code> you will need to install <code>PAR::Packer</code>.
This provides the <code>pp</code> command,
which creates standalone executables out of Perl scripts,
packaging the Perl interpreter and most required scripts and native libraries automatically.
We will also use <code>wxpar</code>,
a <code>pp</code> wrapper that should have been installed automatically with the other dependencies.</p>

<p>Next,
you&#39;ll need to locate the following libraries (DLLs on Windows) required by <code>XML::LibXML</code> (they should be on your computer if you&#39;ve installed the required dependencies):</p>

<dl>
<dt><a name="libxml2-2"
><code>libxml2-2</code></a></dt>

<dd>
<dt><a name="libiconv-2"
><code>libiconv-2</code></a></dt>

<dd>
<dt><a name="zlib_and_lzma_(or_libz_if_those_are_missing)"
><code>zlib</code> and <code>lzma</code> (or <code>libz</code> if those are missing)</a></dt>
</dl>

<p>It&#39;s possible that the names of these libraries could be slightly different on your machine.
On my Windows 7 machine,
they are .dll files with a __ suffix,
and some have numbers.
<code>zlib</code> and <code>lzma</code> are <code>zlib1__.dll</code> and <code>liblzma-5__.dll</code> on my machine,
respectively.
Since I&#39;m using Strawberry Perl,
they are all located in <code>C:/strawberry/c/bin</code>.
Notice that I have replaced all backslashes with forward slashes in the path.
This is essential,
as <code>pp</code> will fail if paths have backslashes in them.</p>

<p>Finally,
you&#39;ll need to make the ITS-WICS distribution available to <code>pp</code> and <code>wxpar</code>,
either by installing it or by adding the <code>lib</code> folder to the include path via the <code>-I</code> option.</p>

<p>Here&#39;s a sample command to make the standalone executable.
We use <code>-l</code> to make <code>wxpar</code> include the DLL files in the executable file.
The working directory contains the ITS-WICS distribution,
and we use <code>-I</code> to include its <code>lib</code> folders (This is unnecessary if this distribution has been installed.).
We use <code>-o</code> to specify the name of the created executable.
We pass the path to this script as the final argument.
Run in a Windows CMD,
this should all be one line; I have broken it into several lines for display purposes.</p>

<pre>    wxpar -o WICS-GUI.exe -l C:/strawberry/c/bin/libxml2-2__.dll
    -l C:/strawberry/c/bin/libiconv-2__.dll -l C:/strawberry/c/bin/zlib1__.dll
    -l C:/strawberry/c/bin/liblzma-5__.dll -I ITS-WICS/lib
    ITS-WICS/bin/WICS-GUI.pl</pre>

<p>Ignore any warnings emitted by Module::ScanDeps (This is an unknown issue that does not affect the functionality of the executables.).</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="WICS_CLI"
>WICS CLI</a></h4>

<p>To create a standalone executable of <code>WICS.pl</code>, you will follow the same procedure as described above for <code>WICS-GUI.pl</code>, but since this is not a GUI application you will not have to install <code>Wx::Perl::Packager</code>, and you will use <code>pp</code> instead of <code>wxpar</code>.</p>

<p>Here is an example command used to create a standalone executable. Run in a Windows CMD, this should all be one line; I have broken it into several lines for display purposes.</p>

<pre>    pp -o WICS.exe -l C:/strawberry/c/bin/libxml2-2__.dll
    -l C:/strawberry/c/bin/libiconv-2__.dll -l C:/strawberry/c/bin/zlib1__.dll
    -l C:/strawberry/c/bin/liblzma-5__.dll -I ITS-WICS/lib
    ITS-WICS/bin/WICS.pl</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Known_Issues_and_Limitations"
>Known Issues and Limitations</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="ITS"
><code>ITS</code></a></h3>

<p>This module only deals with global ITS rules, not with local markup. It would be nice to make this into a more general ITS processor. It does not currently support querying individual elements for ITS information, nor does it implement inheritance. Reference <a href="http://www.w3.org/International/its/wiki/ITS_Processor_Interface" class="podlinkurl"
>this document</a> for an idea of what is wanted. Note that if this functionality is added, we should stop producing a warning for absence of rules from a file.</p>

<p>The ITS specification allows for other types of selectors. This module, however, only allows XPath selectors. CSS selectors could be implemented, for example, with <a href="https://metacpan.org/module/HTML::Selector::XPath" class="podlinkurl"
><code>HTML::Selector::XPath</code></a>.</p>

<p>Currently this module does not check the ITS version. All rules are assumed to be ITS version 2.0.</p>

<p>It would be useful to allow the calling code to provide default ITS parameter values, as specified in Section 5.3.5 of the ITS spec.</p>

<p>No attempt is made to recover from errors caused by invalid XML. Invalid input causes parsing to halt and an error to be thrown.</p>

<p>No external schemas/DTDs are used to validate the XML input.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="ITS-XML2HTML"
><code>ITS-XML2HTML</code></a></h3>

<p>See the section on preserving ITS information for instances where ITS is not preserved faithfully. Also, as no external schema or DTD are used, only the <code>xml:id</code> attribute is treated as a unique ID, and only it is converted to the <code>id</code> attribute in the output HTML.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="ITS-XLIFF2HTML"
><code>ITS-XLIFF2HTML</code></a></h3>

<p>In XLIFF, it is common to copy the <code>source</code> element and rename it <code>target</code> before beginning translation. If the <code>source</code> element happened to have an <code>xml:id</code> attribute (which would be unnecessary since XLIFF defines the <code>id</code> attribute), then such a copy would generate invalid XML. As previously mentioned, invalid XML cannot be processed. Therefore, the originator of the XLIFF file should take care not to produce invalid output.</p>

<p>Because the XLIFF ITS mapping is still in a state of flux, it is possible to produce invalid output with this module. See also a discussion <a href="https://github.com/w3c/its-2.0-testsuite/issues/2" class="podlinkurl"
>here</a>.</p>

<p>The limitations of <code>ITS-XML2HTML</code> also apply to this module.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="ITS-XML2XLIFF"
><code>ITS-XML2XLIFF</code></a></h3>

<p>This task is unfinished, as only the conversion of a single sample file was required for project completion. As the ITS-XLIFF mapping standard matures, the todo-list for this task will become clearer. However, there are three specific areas that need attention to make the converter generalizable to other XML files:</p>

<ol>
<li>Inherited ITS information is not transferred to the XLIFF file. See also the known limitations on the <code>ITS</code> module.</li>

<li>There are two types of file segmentation, and neither is very complete. The custom segmenter, which takes a list of elements to be used for creating <code>&#60;group&#62;</code>s and <code>&#60;trans-unit&#62;</code>s, assumes all children of inline elements to be untranslatable. The ITS segmenter extracts every single string in the document and doesn&#39;t save any XML markup inside a <code>&#60;ph&#62;</code> element as it should.</li>

<li>Only a few ITS categories are converted (<code>idValue</code>, <code>locNote</code>, <code>translate</code> and <code>term</code>).</li>
</ol>

<p>Doubtless there will be more improvements once released to the community, including bug fixes, code cleanups and new features. Newer releases to utilized libraries such as XML::LibXML would also yield improvement.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Third_Party_Licenses"
>Third Party Licenses</a></h2>

<p>Here are a list of the third-party libraries used directly in the WICS converter code, along with reference URIs and license information. These libraries are installed from CPAN automatically when the WICS converters are installed (except for PAR::Packer and Dist::Zilla), and do not need to be managed individually. Most Perl modules are released under the Perl 5 artistic license.</p>

<table>
<thead>
<tr>
<th align="left">Library</th>
<th align="left">URI</th>
<th align="left">License</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Perl</td>
<td align="left"><a href="http://perl.org">perl.org</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">XML::LibXML</td>
<td align="left"><a href="https://metacpan.org/module/XML::LibXML">https://metacpan.org/module/XML::LibXML</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">LibXML</td>
<td align="left"><a href="http://www.xmlsoft.org/">http://www.xmlsoft.org/</a></td>
<td align="left"><a href="http://opensource.org/licenses/MIT" title="MIT License">MIT</a></td>
</tr>
<tr>
<td align="left">Wx</td>
<td align="left"><a href="https://metacpan.org/module/Wx">https://metacpan.org/module/Wx</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">wxWidgets</td>
<td align="left"><a href="http://www.wxwidgets.org">http://www.wxwidgets.org</a></td>
<td align="left"><a href="http://www.wxwidgets.org/about/newlicen.htm">wxWindows</a></td>
</tr>
<tr>
<td align="left">Wx::Perl::Packager</td>
<td align="left"><a href="http://metacpan.org/module/Wx::Perl::Packager">http://metacpan.org/module/Wx::Perl::Packager</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Dist::Zilla</td>
<td align="left"><a href="http://dzil.org">dzil.org</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Par::Packer</td>
<td align="left"><a href="https://metacpan.org/module/PAR::Packer">https://metacpan.org/module/PAR::Packer</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">HTML::HTML5::Parser</td>
<td align="left"><a href="https://metacpan.org/module/HTML::HTML5::Parser">https://metacpan.org/module/HTML::HTML5::Parser</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">HTML::HTML5::Writer</td>
<td align="left"><a href="https://metacpan.org/module/HTML::HTML5::Writer">https://metacpan.org/module/HTML::HTML5::Writer</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Test::XML</td>
<td align="left"><a href="https://metacpan.org/module/Test::XML">https://metacpan.org/module/Test::XML</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Log::Any</td>
<td align="left"><a href="https://metacpan.org/module/Log::Any">https://metacpan.org/module/Log::Any</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">HTTP::Message</td>
<td align="left"><a href="https://metacpan.org/module/HTTP::Message">https://metacpan.org/module/HTTP::Message</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">IO::Compress::Gzip</td>
<td align="left"><a href="https://metacpan.org/module/IO::Compress::Gzip">https://metacpan.org/module/IO::Compress::Gzip</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Path::Tiny</td>
<td align="left"><a href="https://metacpan.org/module/Path::Tiny">https://metacpan.org/module/Path::Tiny</a></td>
<td align="left"><a href="http://www.apache.org/licenses/LICENSE-2.0.html" title="Apache License, Version 2.0">Apache 2.0</a></td>
</tr>
<tr>
<td align="left">Test::HTML::Differences</td>
<td align="left"><a href="https://metacpan.org/module/Test::HTML::Differences">https://metacpan.org/module/Test::HTML::Differences</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Getopt::Lucid</td>
<td align="left"><a href="https://metacpan.org/module/Getopt::Lucid">https://metacpan.org/module/Getopt::Lucid</a></td>
<td align="left"><a href="http://www.apache.org/licenses/LICENSE-2.0.html" title="Apache License, Version 2.0">Apache 2.0</a></td>
</tr>
<tr>
<td align="left">Try::Tiny</td>
<td align="left"><a href="https://metacpan.org/module/Try::Tiny">https://metacpan.org/module/Try::Tiny</a></td>
<td align="left"><a href="http://opensource.org/licenses/MIT" title="MIT License">MIT</a></td>
</tr>
<tr>
<td align="left">Data::Section::Simple</td>
<td align="left"><a href="https://metacpan.org/module/Data::Section::Simple">https://metacpan.org/module/Data::Section::Simple</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">LWP::UserAgent</td>
<td align="left"><a href="https://metacpan.org/module/LWP::UserAgent">https://metacpan.org/module/LWP::UserAgent</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">autodie</td>
<td align="left"><a href="https://metacpan.org/module/autodie">https://metacpan.org/module/autodie</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Test::Base</td>
<td align="left"><a href="https://metacpan.org/module/Test::Base">https://metacpan.org/module/Test::Base</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Test::Exception</td>
<td align="left"><a href="https://metacpan.org/module/Test::Exception">https://metacpan.org/module/Test::Exception</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Test::NoWarnings</td>
<td align="left"><a href="https://metacpan.org/module/Test::NoWarnings">https://metacpan.org/module/Test::NoWarnings</a></td>
<td align="left"><a href="http://www.gnu.org/licenses/old-licenses/lgpl-2.0.html" title="GNU Library General Public License">GNU Library</a></td>
</tr>
<tr>
<td align="left">File::Slurp</td>
<td align="left"><a href="https://metacpan.org/module/File::Slurp">https://metacpan.org/module/File::Slurp</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Test::Warn</td>
<td align="left"><a href="https://metacpan.org/module/Test::Warn">https://metacpan.org/module/Test::Warn</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">URI</td>
<td align="left"><a href="https://metacpan.org/module/URI">https://metacpan.org/module/URI</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
<tr>
<td align="left">Pod::Simple::HTMLBatch</td>
<td align="left"><a href="https://metacpan.org/module/Pod::Simple::HTMLBatch">https://metacpan.org/module/Pod::Simple::HTMLBatch</a></td>
<td align="left"><a href="http://dev.perl.org/licenses/artistic.html" title="Perl 5 Artistic License">Perl 5 Artistic</a></td>
</tr>
</tbody>
</table>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Nathan Glenn &#60;garfieldnate@gmail.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2013 by DFKI.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
